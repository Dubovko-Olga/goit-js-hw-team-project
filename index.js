import{S as A,N as M,P as C,A as _,K as $,a as f}from"./assets/vendor-DnUEYdg3.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(t){if(t.ep)return;t.ep=!0;const s=r(t);fetch(t.href,s)}})();function v(e,o){e&&(e.classList.toggle("is-disabled",o),e.disabled=o,e.setAttribute("aria-disabled",String(o)),e.tabIndex=o?-1:0)}function b(e,o,r){v(o,e.isBeginning),v(r,e.isEnd)}function x(){const e=document.querySelector(".feedbacks__swiper");if(!e)return;const o=e.closest(".feedbacks"),r=o.querySelector(".feedbacks__btn--prev"),n=o.querySelector(".feedbacks__btn--next"),t=o.querySelector(".feedbacks__pagination"),s=new A(e,{modules:[M,C,_,$],speed:450,spaceBetween:24,slidesPerView:1,slidesPerGroup:1,autoHeight:!0,observer:!0,observeParents:!0,observeSlideChildren:!0,breakpoints:{768:{slidesPerView:2,slidesPerGroup:2,spaceBetween:24},1440:{slidesPerView:3,slidesPerGroup:3,spaceBetween:24}},pagination:{el:t,clickable:!0,bulletElement:"button",renderBullet:(i,g)=>`<button type="button" class="${g}" aria-label="Go to slide ${i+1}"></button>`},navigation:{prevEl:r,nextEl:n,disabledClass:"is-disabled"},keyboard:{enabled:!0,onlyInViewport:!0},a11y:{enabled:!0},on:{afterInit(i){b(i,r,n)},slideChange(i){b(i,r,n)},resize(i){i.updateAutoHeight(200),b(i,r,n)}}});return queueMicrotask(()=>s.update()),window.addEventListener("load",()=>s.update()),s}function P(){const e=document.querySelector(".hero-swiper-wrapper"),o=document.querySelectorAll(".hero-swiper-slide"),r=document.querySelector(".hero-btn-left"),n=document.querySelector(".hero-btn-right");let t=0;const s=()=>{t===0?(r.classList.add("disabled"),r.setAttribute("aria-disabled","true")):(r.classList.remove("disabled"),r.removeAttribute("aria-disabled")),t===o.length-1?(n.classList.add("disabled"),n.setAttribute("aria-disabled","true")):(n.classList.remove("disabled"),n.removeAttribute("aria-disabled"))},i=()=>{const g=o[0].offsetWidth;e.style.transform=`translateX(-${g*t}px)`,s()};r.addEventListener("click",()=>{t>0&&(t--,i())}),n.addEventListener("click",()=>{t<o.length-1&&(t++,i())}),window.addEventListener("resize",()=>{i()}),i()}const O=document.querySelector(".menu-btn"),h=document.querySelector(".mobile-menu"),I=document.querySelector(".close-btn"),H=document.querySelectorAll(".mobile-nav-link");O.addEventListener("click",()=>{h.classList.add("open")});I.addEventListener("click",()=>{h.classList.remove("open")});H.forEach(e=>{e.addEventListener("click",()=>{h.classList.remove("open")})});const p="https://books-backend.p.goit.global/books/";async function T(){return(await f(`${p}category-list`)).data}async function y(){return(await f(`${p}top-books`)).data}async function L(e){return(await f(`${p}category?category=${encodeURIComponent(e.trim())}`)).data}async function N(e){return(await f(`${p}${e}`)).data}const E=document.querySelector(".gallery"),w=document.querySelector(".load-more"),W=document.querySelector(".counter");let a=[],d=[],l=0,u="All categories",m=[];const D=4;let k=window.innerWidth<1440;async function S(){try{if(m.length===0){const t=(await T()).filter(s=>s.list_name&&s.list_name.trim()!=="");m=[{list_name:"All categories"},...t]}const e=document.querySelector("#categories-select"),o=document.querySelector(".categories-list");if(e.innerHTML="",o.innerHTML="",window.innerWidth<1440)m.forEach(n=>{const t=document.createElement("option");t.value=n.list_name,t.textContent=n.list_name,e.appendChild(t)}),e.addEventListener("change",async n=>{if(u=n.target.value,u==="All categories")c(a);else try{const t=await L(u);c(t)}catch(t){console.error("Error loading category books:",t)}}),a.length>0||(a=(await y()).flatMap(t=>t.books)),c(a);else{const n=m.filter(t=>t.list_name&&t.list_name.trim()!=="").map(t=>`
            <li class="category-item ${t.list_name==="All categories"?"active":""}">${t.list_name}</li>`).join("");o.insertAdjacentHTML("beforeend",n),o.addEventListener("click",q),a.length>0||(a=(await y()).flatMap(s=>s.books)),c(a)}}catch(e){console.error("Error loading categories:",e)}}async function R(){try{a=(await y()).flatMap(o=>o.books),u="All categories",c(a)}catch(e){console.error("Error loading books:",e)}}function c(e){d=e,l=0,E.innerHTML="";const o=window.innerWidth<768?10:24;B(o)}function B(e){const o=d.slice(l,l+e);if(o.length===0){w.style.display="none";return}const r=o.map(({author:n,title:t,book_image:s,price:i="10.00"})=>`
      <li class="gallery-item">
        <img src="${s}" alt="${t}">
        <div class = 'book-header'>
        <p class="book-title">${t}</p>
        <p class="book-price">$${i==="0.00"?"10.00":i}</p>
        </div>
        <p class="book-author">${n}</p>
        
        
        <button class="learn-more">Learn More</button>
      </li>`).join("");E.insertAdjacentHTML("beforeend",r),l+=e,w.style.display=l>=d.length?"none":"block",V(),G()}function V(){W.textContent=`Showing ${Math.min(l,d.length)} from ${d.length}`}function j(){B(D),z()}async function q(e){const o=e.target;if(!o.classList.contains("category-item"))return;const r=o.textContent.trim();if(u=r,document.querySelectorAll(".category-item").forEach(n=>n.classList.remove("active")),o.classList.add("active"),r==="All categories"){c(a);return}try{const n=await L(r);c(n)}catch(n){console.error("Error loading category books:",n)}}window.addEventListener("resize",()=>{const e=window.innerWidth<1440;e!==k&&(k=e,S())});function G(){document.querySelectorAll(".learn-more").forEach((o,r)=>{o.addEventListener("click",async()=>{try{const n=d[r],t=await N(n._id);console.log(t)}catch(n){console.error("Error fetching book by ID:",n)}})})}function z(){const{height:e}=document.querySelector(".gallery-item").getBoundingClientRect();window.scrollBy({top:e*2,behavior:"smooth"})}S();R();const F=document.querySelector(".categories"),K=document.querySelector(".load-more");F.addEventListener("click",q);K.addEventListener("click",j);(()=>{const e=document.getElementById("scrollUp");if(!e)return;const o=600,r=()=>window.matchMedia("(prefers-reduced-motion: reduce)").matches;function n(){window.scrollY>o?(e.hidden=!1,e.classList.add("is-visible")):(e.classList.remove("is-visible"),setTimeout(()=>{e.classList.contains("is-visible")||(e.hidden=!0)},250))}window.addEventListener("scroll",n,{passive:!0}),n(),e.addEventListener("click",()=>{window.scrollTo({top:0,behavior:r()?"auto":"smooth"})})})();document.addEventListener("DOMContentLoaded",()=>{x(),P()});
//# sourceMappingURL=index.js.map
