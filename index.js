import{S as I,N as O,P as N,A as H,K as W,a as g,i as A,b as R}from"./assets/vendor-Bp3hbnCQ.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(t){if(t.ep)return;t.ep=!0;const s=r(t);fetch(t.href,s)}})();function S(e,o){e&&(e.classList.toggle("is-disabled",o),e.disabled=o,e.setAttribute("aria-disabled",String(o)),e.tabIndex=o?-1:0)}function h(e,o,r){S(o,e.isBeginning),S(r,e.isEnd)}function D(){const e=document.querySelector(".feedbacks__swiper");if(!e)return;const o=e.closest(".feedbacks"),r=o.querySelector(".feedbacks__btn--prev"),n=o.querySelector(".feedbacks__btn--next"),t=o.querySelector(".feedbacks__pagination"),s=new I(e,{modules:[O,N,H,W],speed:450,spaceBetween:24,slidesPerView:1,slidesPerGroup:1,autoHeight:!0,observer:!0,observeParents:!0,observeSlideChildren:!0,breakpoints:{768:{slidesPerView:2,slidesPerGroup:2,spaceBetween:24},1440:{slidesPerView:3,slidesPerGroup:3,spaceBetween:24}},pagination:{el:t,clickable:!0,bulletElement:"button",renderBullet:(i,d)=>`<button type="button" class="${d}" aria-label="Go to slide ${i+1}"></button>`},navigation:{prevEl:r,nextEl:n,disabledClass:"is-disabled"},keyboard:{enabled:!0,onlyInViewport:!0},a11y:{enabled:!0},on:{afterInit(i){h(i,r,n)},slideChange(i){h(i,r,n)},resize(i){i.updateAutoHeight(200),h(i,r,n)}}});return queueMicrotask(()=>s.update()),window.addEventListener("load",()=>s.update()),s}function V(){const e=document.querySelector(".hero-swiper-wrapper"),o=document.querySelectorAll(".hero-swiper-slide"),r=document.querySelector(".hero-btn-left"),n=document.querySelector(".hero-btn-right");let t=0;const s=()=>{t===0?(r.classList.add("disabled"),r.setAttribute("aria-disabled","true")):(r.classList.remove("disabled"),r.removeAttribute("aria-disabled")),t===o.length-1?(n.classList.add("disabled"),n.setAttribute("aria-disabled","true")):(n.classList.remove("disabled"),n.removeAttribute("aria-disabled"))},i=()=>{const d=o[0].offsetWidth;e.style.transform=`translateX(-${d*t}px)`,s()};r.addEventListener("click",()=>{t>0&&(t--,i())}),n.addEventListener("click",()=>{t<o.length-1&&(t++,i())}),window.addEventListener("resize",()=>{i()}),i()}const j=document.querySelector(".menu-btn"),w=document.querySelector(".mobile-menu"),z=document.querySelector(".close-btn"),F=document.querySelectorAll(".mobile-nav-link");j.addEventListener("click",()=>{w.classList.add("open")});z.addEventListener("click",()=>{w.classList.remove("open")});F.forEach(e=>{e.addEventListener("click",()=>{w.classList.remove("open")})});const v="https://books-backend.p.goit.global/books/";async function G(){return(await g(`${v}category-list`)).data}async function L(){return(await g(`${v}top-books`)).data}async function M(e){return(await g(`${v}category?category=${encodeURIComponent(e.trim())}`)).data}async function K(e){return(await g(`${v}${e}`)).data}const p=document.querySelector(".modal-overlay"),U=document.querySelector(".modal-close"),Y=document.querySelector(".modal-book-image"),X=document.querySelector(".modal-book-title"),J=document.querySelector(".modal-book-author"),Q=document.querySelector(".modal-book-price"),Z=document.querySelector(".modal-book-desc"),ee=document.querySelector(".add-to-cart"),te=document.querySelector(".buy-now"),E=document.querySelector(".count"),oe=document.querySelector(".plus"),ne=document.querySelector(".minus"),f=document.querySelector(".scrollup");let a=1,q=null;function re(e){a=1,E.textContent=a,Y.src=e.book_image,X.textContent=e.title,J.textContent=`by ${e.author}`,Q.textContent=`$${e.price==="0.00"?"10.00":e.price}`,Z.textContent=e.description||"No description available.",p.classList.remove("hidden"),f.classList.remove("is-visible"),document.body.classList.add("modal-open"),document.addEventListener("keydown",$),q||(q=new R(p.querySelector(".accordion-container"),{duration:300,openFirst:!1,showMultiple:!0}))}function y(){p.classList.add("hidden"),document.body.classList.remove("modal-open"),f==null||f.classList.add("is-visible"),document.removeEventListener("keydown",$)}function $(e){e.key==="Escape"&&y()}U.addEventListener("click",y);p.addEventListener("click",e=>{e.target===p&&y()});oe.addEventListener("click",()=>{a++,E.textContent=a});ne.addEventListener("click",()=>{a>1&&(a--,E.textContent=a)});function se(){document.querySelectorAll(".learn-more").forEach(o=>{o.addEventListener("click",async r=>{const n=r.currentTarget.dataset.id;try{const t=await K(n);re(t)}catch(t){console.error("Error fetching book by ID:",t)}})})}ee.addEventListener("click",()=>{A.success({message:`You added ${a} book${a>1?"s":""} to cart`,position:"topRight"}),y()});te.addEventListener("click",()=>{A.success({message:`You bought ${a} book${a>1?"s":""}`,position:"topRight"}),y()});const _=document.querySelector(".gallery"),B=document.querySelector(".load-more");document.querySelector(".counter");let c=[],k=[],u=0,m="All categories",b=[];const ie=4;let C=window.innerWidth<1440;async function x(){try{if(b.length===0){const t=(await G()).filter(s=>s.list_name&&s.list_name.trim()!=="");b=[{list_name:"All categories"},...t]}const e=document.querySelector("#categories-select"),o=document.querySelector(".categories-list");if(e.innerHTML="",o.innerHTML="",window.innerWidth<1440)b.forEach(n=>{const t=document.createElement("option");t.value=n.list_name,t.textContent=n.list_name,e.appendChild(t)}),e.addEventListener("change",async n=>{if(m=n.target.value,m==="All categories")l(c);else try{const t=await M(m);l(t)}catch(t){console.error("Error loading category books:",t)}}),c.length>0||(c=(await L()).flatMap(t=>t.books)),l(c);else{const n=b.filter(t=>t.list_name&&t.list_name.trim()!=="").map(t=>`
            <li class="category-item ${t.list_name==="All categories"?"active":""}">${t.list_name}</li>`).join("");o.insertAdjacentHTML("beforeend",n),o.addEventListener("click",T),c.length>0||(c=(await L()).flatMap(s=>s.books)),l(c)}}catch(e){console.error("Error loading categories:",e)}}async function ce(){try{c=(await L()).flatMap(o=>o.books),m="All categories",l(c)}catch(e){console.error("Error loading books:",e)}}function l(e){k=e,u=0,_.innerHTML="";const o=window.innerWidth<768?10:24;P(o)}function P(e){const o=k.slice(u,u+e);if(o.length===0){B.style.display="none";return}const r=o.map(({author:n,title:t,book_image:s,price:i="10.00",_id:d})=>`
      <li class="gallery-item">
        <img src="${s}" alt="${t}">
        <div class = 'book-header'>
        <p class="book-title">${t}</p>
        <p class="book-price">$${i==="0.00"?"10.00":i}</p>
        </div>
        <p class="book-author">${n}</p>
        
        
        <button  class="learn-more" data-id="${d}">Learn More</button>
      </li>`).join("");_.insertAdjacentHTML("beforeend",r),u+=e,B.style.display=u>=k.length?"none":"block",se()}function ae(){P(ie),le()}async function T(e){const o=e.target;if(!o.classList.contains("category-item"))return;const r=o.textContent.trim();if(m=r,document.querySelectorAll(".category-item").forEach(n=>n.classList.remove("active")),o.classList.add("active"),r==="All categories"){l(c);return}try{const n=await M(r);l(n)}catch(n){console.error("Error loading category books:",n)}}window.addEventListener("resize",()=>{const e=window.innerWidth<1440;e!==C&&(C=e,x())});function le(){const{height:e}=document.querySelector(".gallery-item").getBoundingClientRect();window.scrollBy({top:e*2,behavior:"smooth"})}x();ce();const de=document.querySelector(".categories"),ue=document.querySelector(".load-more");de.addEventListener("click",T);ue.addEventListener("click",ae);(()=>{const e=document.getElementById("scrollUp");if(!e)return;const o=600,r=()=>window.matchMedia("(prefers-reduced-motion: reduce)").matches;function n(){window.scrollY>o?(e.hidden=!1,e.classList.add("is-visible")):(e.classList.remove("is-visible"),setTimeout(()=>{e.classList.contains("is-visible")||(e.hidden=!0)},250))}window.addEventListener("scroll",n,{passive:!0}),n(),e.addEventListener("click",()=>{window.scrollTo({top:0,behavior:r()?"auto":"smooth"})})})();document.addEventListener("DOMContentLoaded",()=>{D(),V()});
//# sourceMappingURL=index.js.map
