import{S as T,N as O,P as H,A as K,K as Y,a as L,i as B,b as U}from"./assets/vendor-Bp3hbnCQ.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(o){if(o.ep)return;o.ep=!0;const s=r(o);fetch(o.href,s)}})();function $(e,t){e&&(e.classList.toggle("is-disabled",t),e.disabled=t,e.setAttribute("aria-disabled",String(t)),e.tabIndex=t?-1:0)}function k(e,t,r){$(t,e.isBeginning),$(r,e.isEnd)}function X(){const e=document.querySelector(".feedbacks__swiper");if(!e)return;const t=e.closest(".feedbacks"),r=t.querySelector(".feedbacks__btn--prev"),n=t.querySelector(".feedbacks__btn--next"),o=t.querySelector(".feedbacks__pagination"),s=new T(e,{modules:[O,H,K,Y],speed:450,spaceBetween:24,slidesPerView:1,slidesPerGroup:1,autoHeight:!0,observer:!0,observeParents:!0,observeSlideChildren:!0,breakpoints:{768:{slidesPerView:2,slidesPerGroup:2,spaceBetween:24},1440:{slidesPerView:3,slidesPerGroup:3,spaceBetween:24}},pagination:{el:o,clickable:!0,bulletElement:"button",renderBullet:(i,c)=>`<button type="button" class="${c}" aria-label="Go to slide ${i+1}"></button>`},navigation:{prevEl:r,nextEl:n,disabledClass:"is-disabled"},keyboard:{enabled:!0,onlyInViewport:!0},a11y:{enabled:!0},on:{afterInit(i){k(i,r,n)},slideChange(i){k(i,r,n)},resize(i){i.updateAutoHeight(200),k(i,r,n)}}});return queueMicrotask(()=>s.update()),window.addEventListener("load",()=>s.update()),s}function J(){const e=document.querySelector(".hero-swiper-wrapper"),t=document.querySelectorAll(".hero-swiper-slide"),r=document.querySelector(".hero-btn-left"),n=document.querySelector(".hero-btn-right");let o=0;const s=()=>{o===0?(r.classList.add("disabled"),r.setAttribute("aria-disabled","true")):(r.classList.remove("disabled"),r.removeAttribute("aria-disabled")),o===t.length-1?(n.classList.add("disabled"),n.setAttribute("aria-disabled","true")):(n.classList.remove("disabled"),n.removeAttribute("aria-disabled"))},i=()=>{const c=t[0].offsetWidth;e.style.transform=`translateX(-${c*o}px)`,s()};r.addEventListener("click",()=>{o>0&&(o--,i())}),n.addEventListener("click",()=>{o<t.length-1&&(o++,i())}),window.addEventListener("resize",()=>{i()}),i()}const Q=document.querySelector(".menu-btn"),A=document.querySelector(".mobile-menu"),Z=document.querySelector(".close-btn"),ee=document.querySelectorAll(".mobile-nav-link");Q.addEventListener("click",()=>{A.classList.add("open")});Z.addEventListener("click",()=>{A.classList.remove("open")});ee.forEach(e=>{e.addEventListener("click",()=>{A.classList.remove("open")})});const E="https://books-backend.p.goit.global/books/";async function te(){return(await L(`${E}category-list`)).data}async function q(){return(await L(`${E}top-books`)).data}async function N(e){return(await L(`${E}category?category=${encodeURIComponent(e.trim())}`)).data}async function oe(e){return(await L(`${E}${e}`)).data}const b=document.querySelector(".modal-overlay"),ne=document.querySelector(".modal-close-svg"),re=document.querySelector(".modal-book-image"),se=document.querySelector(".modal-book-title"),ie=document.querySelector(".modal-book-author"),le=document.querySelector(".modal-book-price"),ae=document.querySelector(".modal-book-desc"),ce=document.querySelector(".add-to-cart"),de=document.querySelector(".buy-now"),M=document.querySelector(".count"),ue=document.querySelector(".plus"),me=document.querySelector(".minus"),h=document.querySelector(".scrollup");let a=1,x=null;function pe(e){a=1,M.textContent=a,re.src=e.book_image,se.textContent=e.title,ie.textContent=`by ${e.author}`,le.textContent=`$${e.price==="0.00"?"10.00":e.price}`,ae.textContent=e.description||"No description available.",b.classList.remove("hidden"),h.classList.remove("is-visible"),document.body.classList.add("modal-open"),document.addEventListener("keydown",R),x||(x=new U(b.querySelector(".accordion-container"),{duration:300,openFirst:!1,showMultiple:!0}))}function v(){b.classList.add("hidden"),document.body.classList.remove("modal-open"),h==null||h.classList.add("is-visible"),document.removeEventListener("keydown",R)}function R(e){e.key==="Escape"&&v()}ne.addEventListener("click",v);b.addEventListener("click",e=>{e.target===b&&v()});ue.addEventListener("click",()=>{a++,M.textContent=a});me.addEventListener("click",()=>{a>1&&(a--,M.textContent=a)});function fe(){document.querySelectorAll(".learn-more").forEach(t=>{t.addEventListener("click",async r=>{const n=r.currentTarget.dataset.id;try{const o=await oe(n);pe(o)}catch(o){console.error("Error fetching book by ID:",o)}})})}ce.addEventListener("click",()=>{B.success({message:`You added ${a} book${a>1?"s":""} to cart`,position:"topRight"}),v()});de.addEventListener("click",()=>{B.success({message:`You bought ${a} book${a>1?"s":""}`,position:"topRight"}),v()});const V=document.querySelector(".gallery"),I=document.querySelector(".load-more");document.querySelector(".counter");let l=[],C=[],f=0,y="All categories",g=[];const ye=4;let P=window.innerWidth<1440;async function W(){try{if(g.length===0){const o=(await te()).filter(s=>s.list_name&&s.list_name.trim()!=="");g=[{list_name:"All categories"},...o]}const e=document.querySelector("#categories-select"),t=document.querySelector(".categories-list");if(e.innerHTML="",t.innerHTML="",window.innerWidth<1440)g.forEach(n=>{const o=document.createElement("option");o.value=n.list_name,o.textContent=n.list_name,e.appendChild(o)}),e.addEventListener("change",async n=>{if(y=n.target.value,y==="All categories")d(l);else try{const o=await N(y);d(o)}catch(o){console.error("Error loading category books:",o)}}),l.length>0||(l=(await q()).flatMap(o=>o.books)),d(l);else{const n=g.filter(o=>o.list_name&&o.list_name.trim()!=="").map(o=>`
            <li class="category-item ${o.list_name==="All categories"?"active":""}">${o.list_name}</li>`).join("");t.insertAdjacentHTML("beforeend",n),t.addEventListener("click",j),l.length>0||(l=(await q()).flatMap(s=>s.books)),d(l)}}catch(e){console.error("Error loading categories:",e)}}async function be(){try{l=(await q()).flatMap(t=>t.books),y="All categories",d(l)}catch(e){console.error("Error loading books:",e)}}function d(e){C=e,f=0,V.innerHTML="";const t=window.innerWidth<768?10:24;D(t)}function D(e){const t=C.slice(f,f+e);if(t.length===0){I.style.display="none";return}const r=t.map(({author:n,title:o,book_image:s,price:i="10.00",_id:c})=>`
      <li class="gallery-item">
        <img src="${s}" alt="${o}">
        <div class = 'book-header'>
        <p class="book-title">${o}</p>
        <p class="book-price">$${i==="0.00"?"10.00":i}</p>
        </div>
        <p class="book-author">${n}</p>
        
        
        <button  class="learn-more" data-id="${c}">Learn More</button>
      </li>`).join("");V.insertAdjacentHTML("beforeend",r),f+=e,I.style.display=f>=C.length?"none":"block",fe()}function ve(){D(ye),ge()}async function j(e){const t=e.target;if(!t.classList.contains("category-item"))return;const r=t.textContent.trim();if(y=r,document.querySelectorAll(".category-item").forEach(n=>n.classList.remove("active")),t.classList.add("active"),r==="All categories"){d(l);return}try{const n=await N(r);d(n)}catch(n){console.error("Error loading category books:",n)}}window.addEventListener("resize",()=>{const e=window.innerWidth<1440;e!==P&&(P=e,W())});function ge(){const e=document.querySelectorAll(".gallery-item");if(!e.length)return;const r=e[e.length-1].getBoundingClientRect().height;window.scrollBy({top:r+16,behavior:"smooth"})}W();be();const he=document.querySelector(".categories"),Le=document.querySelector(".load-more");he.addEventListener("click",j);Le.addEventListener("click",ve);document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".events-swiper");if(!e)return;let t=null;function r(){window.innerWidth<1280&&!t?t=new T(e,{modules:[O,H],slidesPerView:1,spaceBetween:24,breakpoints:{768:{slidesPerView:2}},pagination:{el:".ev-pagination",clickable:!0,renderBullet:(n,o)=>`<li class="${o}" aria-label="Go to slide ${n+1}"></li>`,bulletClass:"ev-dot",bulletActiveClass:"ev-dot--active"},navigation:{nextEl:".events-swiper-btn-next",prevEl:".events-swiper-btn-prev"},watchOverflow:!0}):window.innerWidth>=1280&&t&&(t.destroy(!0,!0),t=null,e.querySelectorAll(".swiper-slide").forEach(n=>{n.removeAttribute("style")}))}r(),window.addEventListener("resize",r)});const p=document.getElementById("modal-backdrop");function Ee(e){let t=document.querySelector(".modal");if(!t)t=document.createElement("div"),t.classList.add("modal"),t.innerHTML=`
            <button class="modal-close" aria-label="Close modal">&times;</button>
            <h2 class="modal-title">Register for Event</h2>
            <p class="event-title">${e}</p>
            <form class="modal-form">
                <label>
                    Name
                    <input type="text" placeholder="Your name" required>
                </label>
                <label>
                    Email
                    <input type="email" placeholder="Your email" required>
                </label>
                <button type="submit">Submit</button>
            </form>
        `,p.appendChild(t),t.querySelector(".modal-close").addEventListener("click",_);else{let r=t.querySelector(".event-title");if(r)r.textContent=e;else{const n=document.createElement("p");n.classList.add("event-title"),n.textContent=e;const o=t.querySelector(".modal-title");o?o.insertAdjacentElement("afterend",n):t.appendChild(n)}}p.classList.add("is-open"),document.body.classList.add("no-scroll"),p.addEventListener("click",function r(n){n.target===p&&_(),p.removeEventListener("click",r)})}function _(){p.classList.remove("is-open"),document.body.classList.remove("no-scroll")}const we=document.querySelectorAll(".event-register-btn");we.forEach(e=>{e.addEventListener("click",()=>{const t=e.dataset.event;Ee(t)})});const ke=document.querySelectorAll(".event-btn"),u=document.querySelector("#modal-backdrop"),z=document.body;ke.forEach(e=>{e.addEventListener("click",()=>Se(e.dataset.event))});function Se(e){const t=`
    <div class="modal">
      <button type="button" class="modal-close" aria-label="Close modal">
        <svg width="16" height="16">
         <use href="/img/icons.svg#icon-close"></use>
        </svg>
      </button>
      <h2 class="modal-title">Register</h2>
      <h3 class="event-title">${e}</h3>
      <form class="modal-form" id="register-form">
        <label>
          Name*
          <input type="text" name="name" placeholder="Ann" required />
        </label>
        <label>
          Email*
          <input type="email" name="email" placeholder="hello@booksy.com" required />
        </label>
        <label>
          Message
          <textarea name="message" rows="4" placeholder="Type your message..."></textarea>
        </label>
        <button type="submit">Register</button>
      </form>
    </div>
  `;u.innerHTML=t,u.classList.add("is-open"),z.classList.add("no-scroll");const r=u.querySelector(".modal-close"),n=u.querySelector("#register-form");r.addEventListener("click",w),u.addEventListener("click",F),window.addEventListener("keydown",G),n.addEventListener("submit",qe)}function w(){u.classList.remove("is-open"),z.classList.remove("no-scroll"),u.innerHTML="",window.removeEventListener("keydown",G),u.removeEventListener("click",F)}function F(e){e.target===u&&w()}function G(e){e.key==="Escape"&&w()}function qe(e){e.preventDefault();const t=e.target,r=t.elements.name,n=t.elements.email,o=r.value.trim(),s=n.value.trim();t.querySelectorAll("input, textarea").forEach(c=>Ce(c)),t.querySelectorAll(".error-text").forEach(c=>c.remove());let i=!1;o||(S(r,"Error text"),i=!0),s?Be(s)||(S(n,"Invalid email"),i=!0):(S(n,"Error text"),i=!0),!i&&(B.success({message:"Registration successful!",position:"topRight",timeout:2500}),setTimeout(()=>w(),2500))}function S(e,t){e.classList.add("error"),e.dataset.originalPlaceholder||(e.dataset.originalPlaceholder=e.placeholder),e.placeholder=t;const r=document.createElement("p");r.classList.add("error-text"),r.textContent=t,e.insertAdjacentElement("afterend",r)}function Ce(e){e.classList.remove("error"),e.dataset.originalPlaceholder&&(e.placeholder=e.dataset.originalPlaceholder)}function Be(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}(()=>{const e=document.getElementById("scrollUp");if(!e)return;const t=600,r=()=>window.matchMedia("(prefers-reduced-motion: reduce)").matches;function n(){window.scrollY>t?(e.hidden=!1,e.classList.add("is-visible")):(e.classList.remove("is-visible"),setTimeout(()=>{e.classList.contains("is-visible")||(e.hidden=!0)},250))}window.addEventListener("scroll",n,{passive:!0}),n(),e.addEventListener("click",()=>{window.scrollTo({top:0,behavior:r()?"auto":"smooth"})})})();const Ae=document.querySelector(".sign-up-form"),m=document.querySelector(".footer-input");Ae.addEventListener("submit",e=>{!m.value.trim()||!m.checkValidity()?(e.preventDefault(),m.style.borderColor="red"):m.style.borderColor="#0B050099"});m.addEventListener("blur",()=>{!m.value.trim()||!m.checkValidity()?m.style.borderColor="red":m.style.borderColor="#0B050099"});document.addEventListener("DOMContentLoaded",()=>{X(),J()});
//# sourceMappingURL=index.js.map
