import{S as P,N as I,P as _,A as j,K as z,a as h,i as q,b as G}from"./assets/vendor-Bp3hbnCQ.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=r(o);fetch(o.href,i)}})();function A(e,t){e&&(e.classList.toggle("is-disabled",t),e.disabled=t,e.setAttribute("aria-disabled",String(t)),e.tabIndex=t?-1:0)}function E(e,t,r){A(t,e.isBeginning),A(r,e.isEnd)}function K(){const e=document.querySelector(".feedbacks__swiper");if(!e)return;const t=e.closest(".feedbacks"),r=t.querySelector(".feedbacks__btn--prev"),n=t.querySelector(".feedbacks__btn--next"),o=t.querySelector(".feedbacks__pagination"),i=new P(e,{modules:[I,_,j,z],speed:450,spaceBetween:24,slidesPerView:1,slidesPerGroup:1,autoHeight:!0,observer:!0,observeParents:!0,observeSlideChildren:!0,breakpoints:{768:{slidesPerView:2,slidesPerGroup:2,spaceBetween:24},1440:{slidesPerView:3,slidesPerGroup:3,spaceBetween:24}},pagination:{el:o,clickable:!0,bulletElement:"button",renderBullet:(s,l)=>`<button type="button" class="${l}" aria-label="Go to slide ${s+1}"></button>`},navigation:{prevEl:r,nextEl:n,disabledClass:"is-disabled"},keyboard:{enabled:!0,onlyInViewport:!0},a11y:{enabled:!0},on:{afterInit(s){E(s,r,n)},slideChange(s){E(s,r,n)},resize(s){s.updateAutoHeight(200),E(s,r,n)}}});return queueMicrotask(()=>i.update()),window.addEventListener("load",()=>i.update()),i}function U(){const e=document.querySelector(".hero-swiper-wrapper"),t=document.querySelectorAll(".hero-swiper-slide"),r=document.querySelector(".hero-btn-left"),n=document.querySelector(".hero-btn-right");let o=0;const i=()=>{o===0?(r.classList.add("disabled"),r.setAttribute("aria-disabled","true")):(r.classList.remove("disabled"),r.removeAttribute("aria-disabled")),o===t.length-1?(n.classList.add("disabled"),n.setAttribute("aria-disabled","true")):(n.classList.remove("disabled"),n.removeAttribute("aria-disabled"))},s=()=>{const l=t[0].offsetWidth;e.style.transform=`translateX(-${l*o}px)`,i()};r.addEventListener("click",()=>{o>0&&(o--,s())}),n.addEventListener("click",()=>{o<t.length-1&&(o++,s())}),window.addEventListener("resize",()=>{s()}),s()}const Y=document.querySelector(".menu-btn"),C=document.querySelector(".mobile-menu"),X=document.querySelector(".close-btn"),J=document.querySelectorAll(".mobile-nav-link");Y.addEventListener("click",()=>{C.classList.add("open")});X.addEventListener("click",()=>{C.classList.remove("open")});J.forEach(e=>{e.addEventListener("click",()=>{C.classList.remove("open")})});const L="https://books-backend.p.goit.global/books/";async function Q(){return(await h(`${L}category-list`)).data}async function S(){return(await h(`${L}top-books`)).data}async function T(e){return(await h(`${L}category?category=${encodeURIComponent(e.trim())}`)).data}async function Z(e){return(await h(`${L}${e}`)).data}const b=document.querySelector(".modal-overlay"),ee=document.querySelector(".modal-close-svg"),te=document.querySelector(".modal-book-image"),oe=document.querySelector(".modal-book-title"),ne=document.querySelector(".modal-book-author"),re=document.querySelector(".modal-book-price"),se=document.querySelector(".modal-book-desc"),ie=document.querySelector(".add-to-cart"),ae=document.querySelector(".buy-now"),B=document.querySelector(".count"),le=document.querySelector(".plus"),ce=document.querySelector(".minus");document.querySelector(".scrollup");let m=1,M=null;function de(e){m=1,B.textContent=m,te.src=e.book_image,oe.textContent=e.title,ne.textContent=`by ${e.author}`,re.textContent=`$${e.price==="0.00"?"10.00":e.price}`,se.textContent=e.description||"No description available.",b.classList.remove("hidden"),document.body.classList.add("modal-open"),document.addEventListener("keydown",O),M||(M=new G(b.querySelector(".accordion-container"),{duration:300,openFirst:!1,showMultiple:!0}))}function g(){b.classList.add("hidden"),document.body.classList.remove("modal-open"),document.removeEventListener("keydown",O)}function O(e){e.key==="Escape"&&g()}ee.addEventListener("click",g);b.addEventListener("click",e=>{e.target===b&&g()});le.addEventListener("click",()=>{m++,B.textContent=m});ce.addEventListener("click",()=>{m>1&&(m--,B.textContent=m)});function ue(){document.querySelectorAll(".learn-more").forEach(t=>{t.addEventListener("click",async r=>{const n=r.currentTarget.dataset.id;try{const o=await Z(n);de(o)}catch(o){console.error("Error fetching book by ID:",o)}})})}ie.addEventListener("click",()=>{q.success({message:`You added ${m} book${m>1?"s":""} to cart`,position:"topRight"}),g()});ae.addEventListener("click",()=>{q.success({message:"Thank you for your purchase",position:"topRight"}),g()});const V=document.querySelector(".gallery"),x=document.querySelector(".load-more"),me=document.querySelector(".counter");let a=[],y=[],p=0,f="All categories",v=[];const pe=4;let $=window.innerWidth<1440;async function D(){try{if(v.length===0){const o=(await Q()).filter(i=>i.list_name&&i.list_name.trim()!=="");v=[{list_name:"All categories"},...o]}const e=document.querySelector("#categories-select"),t=document.querySelector(".categories-list");if(e.innerHTML="",t.innerHTML="",window.innerWidth<1440)v.forEach(n=>{const o=document.createElement("option");o.value=n.list_name,o.textContent=n.list_name,e.appendChild(o)}),e.addEventListener("change",async n=>{if(f=n.target.value,f==="All categories")c(a);else try{const o=await T(f);c(o)}catch(o){console.error("Error loading category books:",o)}}),a.length>0||(a=(await S()).flatMap(o=>o.books)),c(a);else{const n=v.filter(o=>o.list_name&&o.list_name.trim()!=="").map(o=>`
            <li class="category-item ${o.list_name==="All categories"?"active":""}">${o.list_name}</li>`).join("");t.insertAdjacentHTML("beforeend",n),t.addEventListener("click",N),a.length>0||(a=(await S()).flatMap(i=>i.books)),c(a)}}catch(e){console.error("Error loading categories:",e)}}async function fe(){try{a=(await S()).flatMap(t=>t.books),f="All categories",c(a)}catch(e){console.error("Error loading books:",e)}}function c(e){y=e,p=0,V.innerHTML="";const t=window.innerWidth<768?10:24;H(t)}function H(e){const t=y.slice(p,p+e);if(t.length===0){x.style.display="none";return}const r=t.map(({author:n,title:o,book_image:i,price:s="10.00",_id:l})=>`
      <li class="gallery-item">
        <img src="${i}" alt="${o}">
        <div class = 'book-header'>
        <p class="book-title">${o}</p>
        <p class="book-price">$${s==="0.00"?"10.00":s}</p>
        </div>
        <p class="book-author">${n}</p>
        
        
        <button  class="learn-more" data-id="${l}">Learn More</button>
      </li>`).join("");V.insertAdjacentHTML("beforeend",r),p+=e,x.style.display=p>=y.length?"none":"block",ue(),be()}function be(){me.textContent=`Showing ${Math.min(p,y.length)} from ${y.length}`}function ye(){H(pe),ge()}async function N(e){const t=e.target;if(!t.classList.contains("category-item"))return;const r=t.textContent.trim();if(f=r,document.querySelectorAll(".category-item").forEach(n=>n.classList.remove("active")),t.classList.add("active"),r==="All categories"){c(a);return}try{const n=await T(r);c(n)}catch(n){console.error("Error loading category books:",n)}}window.addEventListener("resize",()=>{const e=window.innerWidth<1440;e!==$&&($=e,D())});function ge(){const e=document.querySelectorAll(".gallery-item");if(!e.length)return;const r=e[e.length-1].getBoundingClientRect().height;window.scrollBy({top:r+16,behavior:"smooth"})}D();fe();const ve=document.querySelector(".categories"),he=document.querySelector(".load-more");ve.addEventListener("click",N);he.addEventListener("click",ye);document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".events-swiper"),t=document.querySelector(".events-swiper-btn-prev"),r=document.querySelector(".events-swiper-btn-next");if(!e)return;let n=null;function o(s){s&&(s.isBeginning?(t.disabled=!0,t.classList.add("disabled")):(t.disabled=!1,t.classList.remove("disabled")),s.isEnd?(r.disabled=!0,r.classList.add("disabled")):(r.disabled=!1,r.classList.remove("disabled")))}function i(){window.innerWidth<1440&&!n?n=new P(e,{modules:[I,_],slidesPerView:1,spaceBetween:24,breakpoints:{768:{slidesPerView:2}},pagination:{el:".ev-pagination",clickable:!0,renderBullet:(s,l)=>`<li class="${l}" aria-label="Go to slide ${s+1}"></li>`,bulletClass:"ev-dot",bulletActiveClass:"ev-dot--active"},navigation:{nextEl:".events-swiper-btn-next",prevEl:".events-swiper-btn-prev"},watchOverflow:!0,on:{init(){o(this)},slideChange(){o(this)}}}):window.innerWidth>=1440&&n&&(n.destroy(!0,!0),n=null,e.querySelectorAll(".swiper-slide").forEach(s=>{s.removeAttribute("style")}),t.disabled=!0,r.disabled=!0,t.classList.add("disabled"),r.classList.add("disabled"))}i(),window.addEventListener("resize",i)});const Le=document.querySelectorAll(".event-btn"),d=document.querySelector("#modal-backdrop"),R=document.body;Le.forEach(e=>{e.addEventListener("click",()=>we(e.dataset.event))});function we(e){const t=`
    <div class="modal">
      <button type="button" class="modal-close" aria-label="Close modal">
        <svg width="16" height="16">
         <use href="/img/icons.svg#icon-close"></use>
        </svg>
      </button>
      <h2 class="modal-title">Register</h2>
      <h3 class="event-title">${e}</h3>
      <form class="modal-form" id="register-form">
        <label>
          Name*
          <input type="text" name="name" placeholder="Ann" required />
        </label>
        <label>
          Email*
          <input type="email" name="email" placeholder="hello@booksy.com" required />
        </label>
        <label>
          Message
          <textarea name="message" rows="4" placeholder="Type your message..."></textarea>
        </label>
        <button type="submit">Register</button>
      </form>
    </div>
  `;d.innerHTML=t,d.classList.add("is-open"),R.classList.add("no-scroll");const r=d.querySelector(".modal-close"),n=d.querySelector("#register-form");r.addEventListener("click",w),d.addEventListener("click",W),window.addEventListener("keydown",F),n.addEventListener("submit",Ee)}function w(){d.classList.remove("is-open"),R.classList.remove("no-scroll"),d.innerHTML="",window.removeEventListener("keydown",F),d.removeEventListener("click",W)}function W(e){e.target===d&&w()}function F(e){e.key==="Escape"&&w()}function Ee(e){e.preventDefault();const t=e.target,r=t.elements.name,n=t.elements.email,o=r.value.trim(),i=n.value.trim();t.querySelectorAll("input, textarea").forEach(l=>ke(l)),t.querySelectorAll(".error-text").forEach(l=>l.remove());let s=!1;o||(k(r,"Error text"),s=!0),i?Se(i)||(k(n,"Invalid email"),s=!0):(k(n,"Error text"),s=!0),!s&&(q.success({message:"Registration successful!",position:"topRight",timeout:2500}),setTimeout(()=>w(),2500))}function k(e,t){e.classList.add("error"),e.dataset.originalPlaceholder||(e.dataset.originalPlaceholder=e.placeholder),e.placeholder=t;const r=document.createElement("p");r.classList.add("error-text"),r.textContent=t,e.insertAdjacentElement("afterend",r)}function ke(e){e.classList.remove("error"),e.dataset.originalPlaceholder&&(e.placeholder=e.dataset.originalPlaceholder)}function Se(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}(()=>{const e=document.getElementById("scrollUp");if(!e)return;const t=600,r=()=>window.matchMedia("(prefers-reduced-motion: reduce)").matches;function n(){window.scrollY>t?(e.hidden=!1,e.classList.add("is-visible")):(e.classList.remove("is-visible"),setTimeout(()=>{e.classList.contains("is-visible")||(e.hidden=!0)},250))}window.addEventListener("scroll",n,{passive:!0}),n(),e.addEventListener("click",()=>{window.scrollTo({top:0,behavior:r()?"auto":"smooth"})})})();const qe=document.querySelector(".sign-up-form"),u=document.querySelector(".footer-input");qe.addEventListener("submit",e=>{!u.value.trim()||!u.checkValidity()?(e.preventDefault(),u.style.borderColor="red"):u.style.borderColor="#0B050099"});u.addEventListener("blur",()=>{!u.value.trim()||!u.checkValidity()?u.style.borderColor="red":u.style.borderColor="#0B050099"});document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".footer-input"),t=document.querySelector(".footer-button"),r=document.querySelector(".sign-up-form");function n(){const o=e.value.trim();new RegExp(e.pattern).test(o)?(t.removeAttribute("disabled"),t.style.backgroundColor="#EA8D50"):(t.setAttribute("disabled","true"),t.style.backgroundColor="#ccc")}e.addEventListener("input",n),r.addEventListener("submit",function(o){o.preventDefault(),e.checkValidity()?(alert("Thank you for signing up!"),e.value=""):alert("Please enter a valid email address.")}),n()});document.addEventListener("DOMContentLoaded",()=>{K(),U()});
//# sourceMappingURL=index.js.map
